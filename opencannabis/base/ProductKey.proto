
/**
 * Specifies structures that reference specific products at their unique key or name.
 */
syntax = "proto3";

package opencannabis.base;

option optimize_for = SPEED;
option objc_class_prefix = "OCS";
option java_package = "io.opencannabis.schema.base";
option java_multiple_files = false;
option java_outer_classname = "BaseProductKey";

import "opencannabis/core/Datamodel.proto";

import "opencannabis/content/Name.proto";
import "opencannabis/base/ProductKind.proto";


// Specifies a reference to a product.
message ProductReference {
  // Specifies the name of a product.
  opencannabis.content.Name name = 1 [
    (core.field).summary = "Specifies the name of a product."
  ];

  // Specifies the key, if known, of a product.
  ProductKey key = 2 [
    (core.field).summary = "Specifies the key, if known, of a product."
  ];
}


// Specifies a general key for a product, which is the combined specification of a product ID and type, which is
// enumerated in `base.ProductType`.
message ProductKey {
  // Product ID, an opaque string that is usually autogenerated. Within the scope of an implementing system, this may
  // also be a stringified integer such as an auto-incrementing ID, for relational-type systems. The product ID is
  // expected to be globally addressable and unique across all product categories.
  string id = 1 [
    (core.field).type = ID,
    (core.opts).required = true,
    (core.field).summary = "Product ID, an opaque string that is usually autogenerated."
  ];

  // Type of product the ID is referring to. In most cases this entry can be omitted.
  ProductKind type = 2 [
    (core.field).explicit = true,
    (core.field).summary = "Type of product the ID is referring to. In most cases this entry can be omitted."
  ];
}

